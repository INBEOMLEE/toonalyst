-- TOONALYST DUMMY DATA

DROP TABLE tbl_toonalyst_member;
CREATE TABLE tbl_toonalyst_member(
    id VARCHAR2(30) PRIMARY KEY,
    pw VARCHAR2(30) NOT NULL,
    name VARCHAR2(30) NOT NULL,
    email VARCHAR2(50) NOT NULL,
    phone VARCHAR2(30) NOT NULL,
    zipcode VARCHAR2(20) NOT NULL,
    addr1 VARCHAR2(200) NOT NULL,
    addr2 VARCHAR2(200) NOT NULL,
    gradeimg VARCHAR2(200),
    grade VARCHAR2(10) DEFAULT '1',
    memexp NUMBER DEFAULT 0,
    boardcnt NUMBER DEFAULT 0,
    commentcnt NUMBER DEFAULT 0,
    regdate DATE DEFAULT SYSDATE
);

INSERT INTO tbl_toonalyst_member(id, pw, name, email, phone, zipcode, addr1, addr2)
VALUES('user01', '1234', '유수지', 'admin@toonalyst.com', '01000000000', '506111', '광주 북구 경양로 170', '한경빌딩 5층');
INSERT INTO tbl_toonalyst_member(id, pw, name, email, phone, zipcode, addr1, addr2)
VALUES('user02', '1234', '최인준', 'admin@toonalyst.com', '01000000000', '506111', '광주 북구 경양로 170', '한경빌딩 5층');
INSERT INTO tbl_toonalyst_member(id, pw, name, email, phone, zipcode, addr1, addr2)
VALUES('user03', '1234', '이인범', 'admin@toonalyst.com', '01000000000', '506111', '광주 북구 경양로 170', '한경빌딩 5층');
INSERT INTO tbl_toonalyst_member(id, pw, name, email, phone, zipcode, addr1, addr2)
VALUES('user04', '1234', '조기훈', 'admin@toonalyst.com', '01000000000', '506111', '광주 북구 경양로 170', '한경빌딩 5층');

SELECT * FROM tbl_toonalyst_member;
COMMIT;

DROP TABLE TBL_WEBTOON;
CREATE TABLE TBL_WEBTOON 
(
  TITLEID NUMBER NOT NULL 
, TITLENAME VARCHAR2(200) 
, PLATFORM VARCHAR2(200) 
, WRITER VARCHAR2(200) 
, RATING FLOAT 
, INNERRATING FLOAT 
, FINISH NUMBER 
, BANNERIMG VARCHAR2(300) 
, CONSTRAINT TBL_BOARD_PK PRIMARY KEY 
  (
    TITLEID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX TABLE1_PK1 ON TBL_WEBTOON (TITLEID ASC) 
  )
  ENABLE 
);

-- TOONALYST BOARD TABLE
DROP TABLE tbl_toonalyst_board;
CREATE TABLE tbl_toonalyst_board(
    bno NUMBER PRIMARY KEY,
    btitle VARCHAR2(200) NOT NULL,
    bcontent VARCHAR2(1000) NOT NULL,
    btext VARCHAR2(1000) NOT NULL,
    bwriter VARCHAR2(30) NOT NULL,
    bviewcnt NUMBER(10) DEFAULT 0,
    bgoodcnt NUMBER(10) DEFAULT 0,
    bcategory NUMBER(5) NOT NULL,
    borigin NUMBER(5) DEFAULT 0,
    bturn NUMBER(5) DEFAULT 0,
    bdepth NUMBER(5) DEFAULT 0,
    badmin NUMBER(5) DEFAULT 0,
    bregdate DATE DEFAULT SYSDATE
);
INSERT INTO tbl_toonalyst_board(bno, btitle, bcontent, btext, bwriter, bcategory)
VALUES(seq_toonalyst_board_bno.NEXTVAL, '안녕하세요', '내용입니다', '내용입니다', 'user01', 0);
COMMIT;

SELECT * FROM tbl_toonalyst_board;

DROP SEQUENCE seq_toonalyst_board_bno;
CREATE SEQUENCE seq_toonalyst_board_bno
START WITH 1
INCREMENT BY 1
NOCYCLE;

DROP SEQUENCE seq_toonalyst_board_origin;
CREATE SEQUENCE seq_toonalyst_board_origin
START WITH 1
INCREMENT BY 1
NOCYCLE;



-- TOONALYST COMMENT TABLE
DROP TABLE tbl_toonalyst_comment;
CREATE TABLE tbl_toonalyst_comment(
    cno NUMBER PRIMARY KEY,
    ccontent VARCHAR2(2000) NOT NULL,
    cwriter VARCHAR2(30) NOT NULL,
    cregdate DATE DEFAULT SYSDATE,
    bno NUMBER NOT NULL
    
);

DROP SEQUENCE seq_toonalyst_comment;
CREATE SEQUENCE seq_toonalyst_comment
START WITH 1
INCREMENT BY 1
NOCYCLE;

ALTER TABLE tbl_toonalyst_comment
ADD CONSTRAINT tbl_comment_fk_bno
FOREIGN KEY(bno) REFERENCES tbl_toonalyst_board(bno)
ON DELETE CASCADE;
COMMIT;

DELETE FROM tbl_toonalyst_comment;
INSERT INTO tbl_toonalyst_comment(cno, ccontent, cwriter, bno)
VALUES(seq_toonalyst_comment.NEXTVAL, '댓글1', 'user01', 1);
INSERT INTO tbl_toonalyst_comment(cno, ccontent, cwriter, bno)
VALUES(seq_toonalyst_comment.NEXTVAL, '댓글2', 'user02', 1);
INSERT INTO tbl_toonalyst_comment(cno, ccontent, cwriter, bno)
VALUES(seq_toonalyst_comment.NEXTVAL, '댓글3', 'user03', 1);
INSERT INTO tbl_toonalyst_comment(cno, ccontent, cwriter, bno)
VALUES(seq_toonalyst_comment.NEXTVAL, '댓글4', 'user04', 1);

COMMIT;
SELECT * FROM tbl_toonalyst_comment;



